{% extends "base.html" %}

{% block content %}

<h2>Your Shopping Cart</h2>

<table class="table">
  <tr>
    <th>Item</th>
    <th>Quantity</th>
    <th>Total</th>
  </tr>
  {% for item in cart.items.all %}
  <tr>
    <td>
      <a href="/p/{{item.product.id}}">
        <div class="row">
          <div class="col-md-2">
            <img src="/static/store/img/coffee.jpg" alt="" class="img-responsive">
          </div>
          <div class="col-md-10">
            <h4>{{ item.product.name }}</h4>
            <p class="small">
              Rp {{ item.product.price }} / 100 gr
            </p>
          </div>
        </div>
      </a>
    </td>
    <td>{{ item.quantity }} x 100 gr <a href="add/{{item.product.id}}" class="btn btn-sm btn-default">Add</a></td>
    <td>
      Rp <span class="js-price">{{ item.total_price }}</span>
      <a href="/c/remove/{{ item.id }}" class="btn btn-sm btn-default">Remove</a>
    </td>
  </tr>
  {% endfor %}
</table>

<div class="row">
  <div class="col-md-10 text-right">Total: Rp {{cart.total_price|default:'0'}}</div>
  <div class="col-md-2">
    <a href="/checkout/" class="btn btn-primary">Checkout</a>
  </div>
</div>

{% endblock %}
